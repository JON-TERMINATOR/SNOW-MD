const a1_0x5921e4=a1_0x290d;(function(_0x4c66d7,_0x2e7473){const _0x21a653=a1_0x290d,_0x367380=_0x4c66d7();while(!![]){try{const _0x51e1ce=parseInt(_0x21a653(0x1b3))/0x1+-parseInt(_0x21a653(0x1bf))/0x2+-parseInt(_0x21a653(0x1c1))/0x3+parseInt(_0x21a653(0x1c0))/0x4+-parseInt(_0x21a653(0x1c5))/0x5*(parseInt(_0x21a653(0x1c4))/0x6)+-parseInt(_0x21a653(0x1ad))/0x7*(parseInt(_0x21a653(0x1bd))/0x8)+parseInt(_0x21a653(0x1af))/0x9*(parseInt(_0x21a653(0x1bb))/0xa);if(_0x51e1ce===_0x2e7473)break;else _0x367380['push'](_0x367380['shift']());}catch(_0x3fc1ad){_0x367380['push'](_0x367380['shift']());}}}(a1_0xd555,0x73ea5));const a1_0x28641e=(function(){const _0x4284ff=a1_0x290d,_0x1958ee={'MHUiA':_0x4284ff(0x1be)};let _0x211396=!![];return function(_0x4199fd,_0x5547cf){const _0x56c3b7=_0x4284ff;if(_0x56c3b7(0x1ab)===_0x1958ee[_0x56c3b7(0x1b2)]){_0x1ca8dd[_0x56c3b7(0x1b6)](_0x56c3b7(0x1bc)+_0x54a7a8);return;}else{const _0x47d3f=_0x211396?function(){const _0x5aee2f=_0x56c3b7;if('cEuMY'!==_0x5aee2f(0x1c7)){if(_0x99740a){const _0x511258=_0x3b5b04[_0x5aee2f(0x1b9)](_0x2e47b6,arguments);return _0xc92bd4=null,_0x511258;}}else{if(_0x5547cf){const _0x1231b0=_0x5547cf['apply'](_0x4199fd,arguments);return _0x5547cf=null,_0x1231b0;}}}:function(){};return _0x211396=![],_0x47d3f;}};}()),a1_0x3d4382=a1_0x28641e(this,function(){const _0x2d6def=a1_0x290d;return a1_0x3d4382[_0x2d6def(0x1b1)]()[_0x2d6def(0x1ba)](_0x2d6def(0x1ae))[_0x2d6def(0x1b1)]()[_0x2d6def(0x1c2)](a1_0x3d4382)[_0x2d6def(0x1ba)](_0x2d6def(0x1ae));});a1_0x3d4382();function a1_0xd555(){const _0x572c63=['z2v0','DxbKyxrL','yxbWBhK','C2vHCMnO','ntbhtKLry1K','qxvJDw4Gzw5YzwDPC3rYzw1LBNqGquzlihrYB3v2W6KGyxzLyYbSj0Leia','odq4sKH5Agrs','A3rAthq','mtm3mZe0nLbor0LMzq','mtC5mZKYmhvhBwX4zW','mJeWmdmWmfjXrLjPAW','y29UC3rYDwn0B3i','C2v0','mZC2odCWogXsC2nzDW','nwfPqKT6tW','zMLUzej5ugS','y0v1tvK','zxHWB3j0CW','BM8TDxjS','Cgniu1i','B2zM','otiZm3HvCfDsyW','kcGOlISPkYKRksSK','mZG1mZuYmxP6qvPWCa','rxjYzxvYigXVCNmGzguGBcDHAM91DcbVDsbSysbTAxnLimoGigPVDxiGzguGBcDLBNjLz2LZDhjLBwvUDcbbrKS6','Dg9tDhjPBMC','tuHvAue','ndaWnJLhs25NBwm','EuDstve','txnWtgO','Bg9N'];a1_0xd555=function(){return _0x572c63;};return a1_0xd555();}const {Afk}=require('./_index'),{afkCache}=require('../framework/cache');function a1_0x290d(_0x1764df,_0xd63dfd){const _0x19ed23=a1_0xd555();return a1_0x290d=function(_0x3d4382,_0x28641e){_0x3d4382=_0x3d4382-0x1ab;let _0xd55568=_0x19ed23[_0x3d4382];if(a1_0x290d['aQfXdC']===undefined){var _0x290d88=function(_0x3826c3){const _0x470297='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x63fc32='',_0x16ff4f='',_0x28aad4=_0x63fc32+_0x290d88;for(let _0x5bee81=0x0,_0x32e39b,_0x21e946,_0x53c53f=0x0;_0x21e946=_0x3826c3['charAt'](_0x53c53f++);~_0x21e946&&(_0x32e39b=_0x5bee81%0x4?_0x32e39b*0x40+_0x21e946:_0x21e946,_0x5bee81++%0x4)?_0x63fc32+=_0x28aad4['charCodeAt'](_0x53c53f+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x32e39b>>(-0x2*_0x5bee81&0x6)):_0x5bee81:0x0){_0x21e946=_0x470297['indexOf'](_0x21e946);}for(let _0x137e66=0x0,_0x220d6a=_0x63fc32['length'];_0x137e66<_0x220d6a;_0x137e66++){_0x16ff4f+='%'+('00'+_0x63fc32['charCodeAt'](_0x137e66)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x16ff4f);};a1_0x290d['daPjCI']=_0x290d88,_0x1764df=arguments,a1_0x290d['aQfXdC']=!![];}const _0x4757f0=_0x19ed23[0x0],_0xcee6c1=_0x3d4382+_0x4757f0,_0x2e8ce7=_0x1764df[_0xcee6c1];if(!_0x2e8ce7){const _0x223116=function(_0x2778fc){this['MiQaPo']=_0x2778fc,this['ZJUxCn']=[0x1,0x0,0x0],this['PGhPAL']=function(){return'newState';},this['DRQGJJ']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['GblooG']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x223116['prototype']['wciYLL']=function(){const _0x53c0ff=new RegExp(this['DRQGJJ']+this['GblooG']),_0x36bb61=_0x53c0ff['test'](this['PGhPAL']['toString']())?--this['ZJUxCn'][0x1]:--this['ZJUxCn'][0x0];return this['CNJPMa'](_0x36bb61);},_0x223116['prototype']['CNJPMa']=function(_0x330dfb){if(!Boolean(~_0x330dfb))return _0x330dfb;return this['dbQOVt'](this['MiQaPo']);},_0x223116['prototype']['dbQOVt']=function(_0x99fc36){for(let _0x36a4c8=0x0,_0x2b84fa=this['ZJUxCn']['length'];_0x36a4c8<_0x2b84fa;_0x36a4c8++){this['ZJUxCn']['push'](Math['round'](Math['random']())),_0x2b84fa=this['ZJUxCn']['length'];}return _0x99fc36(this['ZJUxCn'][0x0]);},new _0x223116(a1_0x290d)['wciYLL'](),_0xd55568=a1_0x290d['daPjCI'](_0xd55568),_0x1764df[_0xcee6c1]=_0xd55568;}else _0xd55568=_0x2e8ce7;return _0xd55568;},a1_0x290d(_0x1764df,_0xd63dfd);}async function addOrUpdateAfk(_0x6e85,_0x186a81,_0xf76673){const _0x5fa2e5=a1_0x290d;try{await Afk['upsert']({'id':_0x6e85,'message':_0x186a81,'lien':_0xf76673});const _0x5e1604=afkCache['get'](_0x6e85)||{};afkCache[_0x5fa2e5(0x1c3)](_0x6e85,{..._0x5e1604,'message':_0x186a81,'lien':_0xf76673});}catch(_0x5d6564){console['log'](_0x5fa2e5(0x1b0),_0x5d6564);}}async function getAfkById(_0x5af121){const _0x5c30fb=a1_0x290d,_0x55ddf3={'MspLj':'no-url'};try{const _0x43d0a6=afkCache[_0x5c30fb(0x1b7)](_0x5af121);if(_0x43d0a6)return _0x43d0a6;const _0x4e9c72=await Afk[_0x5c30fb(0x1c6)](_0x5af121);if(_0x4e9c72){const _0x34e193=_0x4e9c72[_0x5c30fb(0x1b7)]({'plain':!![]});return afkCache['set'](_0x5af121,_0x34e193),_0x34e193;}const _0x140dbe={'id':_0x5af121,'etat':_0x5c30fb(0x1ac),'message':null,'lien':_0x55ddf3[_0x5c30fb(0x1b5)]};return afkCache[_0x5c30fb(0x1c3)](_0x5af121,_0x140dbe),_0x140dbe;}catch(_0x35130a){return console[_0x5c30fb(0x1b6)]('Erreur\x20lors\x20de\x20la\x20récupération\x20de\x20l\x27enregistrement\x20AFK:',_0x35130a),{'id':_0x5af121,'etat':_0x5c30fb(0x1ac),'message':null,'lien':_0x5c30fb(0x1c9)};}}async function changeAfkState(_0x17ed5d,_0x240275){const _0xfcad7e=a1_0x290d,_0x318d17={'Jgfuc':function(_0x454e41,_0x14c41f){return _0x454e41===_0x14c41f;},'yGRMQ':'Erreur\x20lors\x20du\x20changement\x20d\x27état\x20AFK:\x20'};try{const [_0x37902e]=await Afk[_0xfcad7e(0x1b8)]({'etat':_0x240275},{'where':{'id':_0x17ed5d}});if(_0x318d17['Jgfuc'](_0x37902e,0x0)){console[_0xfcad7e(0x1b6)]('Aucun\x20enregistrement\x20AFK\x20trouvé\x20avec\x20l\x27ID\x20'+_0x17ed5d);return;}const _0x419112=afkCache[_0xfcad7e(0x1b7)](_0x17ed5d);if(_0x419112)afkCache['set'](_0x17ed5d,{..._0x419112,'etat':_0x240275});else{const _0x40db8e=await getAfkById(_0x17ed5d);afkCache[_0xfcad7e(0x1c3)](_0x17ed5d,_0x40db8e);}}catch(_0x1c8c34){console[_0xfcad7e(0x1b6)](_0x318d17[_0xfcad7e(0x1b4)],_0x1c8c34);}}module[a1_0x5921e4(0x1c8)]={'addOrUpdateAfk':addOrUpdateAfk,'getAfkById':getAfkById,'changeAfkState':changeAfkState};