const a66_0x1c8f5e=a66_0x5000;(function(_0x5bd49b,_0x22020a){const _0x57c46b=a66_0x5000,_0x4d6bf6=_0x5bd49b();while(!![]){try{const _0x200b75=-parseInt(_0x57c46b(0x108))/0x1+-parseInt(_0x57c46b(0x10b))/0x2+parseInt(_0x57c46b(0x10f))/0x3*(-parseInt(_0x57c46b(0x121))/0x4)+parseInt(_0x57c46b(0x11f))/0x5*(-parseInt(_0x57c46b(0x110))/0x6)+-parseInt(_0x57c46b(0x119))/0x7+parseInt(_0x57c46b(0x11c))/0x8*(-parseInt(_0x57c46b(0x107))/0x9)+parseInt(_0x57c46b(0x105))/0xa;if(_0x200b75===_0x22020a)break;else _0x4d6bf6['push'](_0x4d6bf6['shift']());}catch(_0x247acb){_0x4d6bf6['push'](_0x4d6bf6['shift']());}}}(a66_0x28f2,0x63f49));const a66_0xd1bdf2=(function(){const _0x51782d=a66_0x5000,_0x344119={'Aqnxl':function(_0x961989,_0xb88185){return _0x961989===_0xb88185;},'bYSTU':_0x51782d(0x10e),'PDdff':_0x51782d(0x11d)};let _0x55453c=!![];return function(_0x3a32e9,_0x8e0d78){const _0x3218a9=_0x51782d;if(_0x3218a9(0x11d)===_0x344119['PDdff']){const _0x4ed2cd=_0x55453c?function(){const _0xf3a7ed=_0x3218a9;if(_0x8e0d78){if(_0x344119[_0xf3a7ed(0x104)](_0x344119['bYSTU'],_0xf3a7ed(0x10e))){const _0x21fabf=_0x8e0d78['apply'](_0x3a32e9,arguments);return _0x8e0d78=null,_0x21fabf;}else{const _0x55319c=_0x152af9[_0xf3a7ed(0x102)](_0x1cd8b4,arguments);return _0x5ae833=null,_0x55319c;}}}:function(){};return _0x55453c=![],_0x4ed2cd;}else{if(_0x528e3f){const _0x391570=_0x33f26b['apply'](_0x555ef8,arguments);return _0x542c29=null,_0x391570;}}};}()),a66_0x2b0520=a66_0xd1bdf2(this,function(){const _0x5b61f5=a66_0x5000,_0x2f5c9f={'tvWmV':_0x5b61f5(0x120)};return a66_0x2b0520[_0x5b61f5(0x100)]()['search']('(((.+)+)+)+$')['toString']()[_0x5b61f5(0x122)](a66_0x2b0520)[_0x5b61f5(0x11b)](_0x2f5c9f[_0x5b61f5(0x115)]);});function a66_0x28f2(){const _0x1da9b7=['ndGXmZL1ug9Zsxy','CMvTB3zLrg9JC0zYB21jza','C2vHCMnO','mtaWotuYCMLzsezr','u2z2DvC','p3jLBw92zt10CNvL','mZCZnJbjy3zADeC','kcGOlISPkYKRksSK','nde5nJrYvfLov1m','y29UC3rYDwn0B3i','Dg9tDhjPBMC','lI4VlI4VyMrKl2f1DgG','yxbWBhK','tM8Gzg9JDw1LBNrZigzVDw5K','qxfUEgW','mJe1mJC0mdb0zuPMB3O','zg9JDw1LBNrZ','ndiZC0vcD21X','mJq3otGXAvH3Cvzl','ywrKu2vZC2LVBG','uevsyvC','mJe0otGYwMr3q2vQ','C2vZC2LVBKfWAq','CMvSB2fKu2vZC2LVBG','y0zWr20','mZnmBKrmu1m','ntqWEMz4yNDo','z2v0','Ahr0Chm6lY96B2TVDs1ZzxnZAw9UlwfWAs52zxjJzwWUyxbW','zgf0yq','AgfZq3jLzhm','DhzxBvy','C3LUyW','l3nLC3nPB24V','zM91BMq'];a66_0x28f2=function(){return _0x1da9b7;};return a66_0x28f2();}a66_0x2b0520();const sessionDb=require('../../bdd/session'),authDb=require(a66_0x1c8f5e(0x101)),axios=require('axios');function a66_0x5000(_0x323e60,_0x3d49d4){const _0x1d7381=a66_0x28f2();return a66_0x5000=function(_0x2b0520,_0xd1bdf2){_0x2b0520=_0x2b0520-0x100;let _0x28f289=_0x1d7381[_0x2b0520];if(a66_0x5000['HgaTfg']===undefined){var _0x50005c=function(_0x1c1ea6){const _0x12e7e8='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x44db46='',_0x784576='',_0x45bf5e=_0x44db46+_0x50005c;for(let _0x2857ad=0x0,_0x4425ea,_0x1fcef6,_0x16279c=0x0;_0x1fcef6=_0x1c1ea6['charAt'](_0x16279c++);~_0x1fcef6&&(_0x4425ea=_0x2857ad%0x4?_0x4425ea*0x40+_0x1fcef6:_0x1fcef6,_0x2857ad++%0x4)?_0x44db46+=_0x45bf5e['charCodeAt'](_0x16279c+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x4425ea>>(-0x2*_0x2857ad&0x6)):_0x2857ad:0x0){_0x1fcef6=_0x12e7e8['indexOf'](_0x1fcef6);}for(let _0x7e06f=0x0,_0x1822ce=_0x44db46['length'];_0x7e06f<_0x1822ce;_0x7e06f++){_0x784576+='%'+('00'+_0x44db46['charCodeAt'](_0x7e06f)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x784576);};a66_0x5000['lLDSpk']=_0x50005c,_0x323e60=arguments,a66_0x5000['HgaTfg']=!![];}const _0x1fda2b=_0x1d7381[0x0],_0x154323=_0x2b0520+_0x1fda2b,_0x4934a9=_0x323e60[_0x154323];if(!_0x4934a9){const _0x4fd395=function(_0x25d59c){this['OHaJPA']=_0x25d59c,this['HJbgCm']=[0x1,0x0,0x0],this['MaCeYd']=function(){return'newState';},this['yVSyck']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['PMVtmP']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4fd395['prototype']['nEtQRO']=function(){const _0x2b9e1f=new RegExp(this['yVSyck']+this['PMVtmP']),_0x3ed5a4=_0x2b9e1f['test'](this['MaCeYd']['toString']())?--this['HJbgCm'][0x1]:--this['HJbgCm'][0x0];return this['enRzcY'](_0x3ed5a4);},_0x4fd395['prototype']['enRzcY']=function(_0x10da08){if(!Boolean(~_0x10da08))return _0x10da08;return this['SlSxXz'](this['OHaJPA']);},_0x4fd395['prototype']['SlSxXz']=function(_0x527aab){for(let _0x1c0f9b=0x0,_0x36d161=this['HJbgCm']['length'];_0x1c0f9b<_0x36d161;_0x1c0f9b++){this['HJbgCm']['push'](Math['round'](Math['random']())),_0x36d161=this['HJbgCm']['length'];}return _0x527aab(this['HJbgCm'][0x0]);},new _0x4fd395(a66_0x5000)['nEtQRO'](),_0x28f289=a66_0x5000['lLDSpk'](_0x28f289),_0x323e60[_0x154323]=_0x28f289;}else _0x28f289=_0x4934a9;return _0x28f289;},a66_0x5000(_0x323e60,_0x3d49d4);}class SessionManager{['sessionApi']=a66_0x1c8f5e(0x112);#userId=null;#shouldReloadSession=![];#userSession=null;constructor(_0x21dc7b,_0x405fb8=null){this.#userId=_0x21dc7b,this.#userSession=_0x405fb8;}async[a66_0x1c8f5e(0x116)](){const _0x1ea39b=a66_0x1c8f5e,_0x5b9df6={'sQQWZ':function(_0x379b15,_0x486fb5){return _0x379b15==_0x486fb5;}},_0x28d0f1=await sessionDb['getSession'](this.#userId);if(!_0x28d0f1){await sessionDb['addSession'](this.#userId,this.#userSession);if(this.#userSession)this.#shouldReloadSession=!![];}if(_0x5b9df6['sQQWZ'](_0x28d0f1?.['id'],this.#userSession)){if(this.#userSession==null)return;return await this.#checkIfShouldReconnect();}await authDb[_0x1ea39b(0x11a)](this.#userId),await sessionDb[_0x1ea39b(0x109)](this.#userId,this.#userSession),this.#shouldReloadSession=!![];}async['fetchForDocs'](_0x59e180){const _0x2cd9f7=a66_0x1c8f5e,_0x6ec286={'QwTcK':'jcwHS','PERaW':'fCXAc'},_0x53d5fd=await axios[_0x2cd9f7(0x111)](this[_0x2cd9f7(0x10c)]+_0x2cd9f7(0x117)+_0x59e180+_0x2cd9f7(0x11e));if(_0x53d5fd?.[_0x2cd9f7(0x113)]?.[_0x2cd9f7(0x118)]){if(_0x6ec286['QwTcK']!==_0x6ec286[_0x2cd9f7(0x10a)])return _0x53d5fd['data'][_0x2cd9f7(0x106)];else throw new _0x232303('No\x20documents\x20found');}else throw new Error(_0x2cd9f7(0x103));}get['shouldReloadSession'](){return this.#shouldReloadSession;}async[a66_0x1c8f5e(0x10d)](){const _0x2e2601=await this['fetchForDocs'](this.#userSession);await authDb['loadsDocs'](this.#userId,_0x2e2601);}async #checkIfShouldReconnect(){const _0x5bd5b7=a66_0x1c8f5e;return this.#shouldReloadSession=!await authDb[_0x5bd5b7(0x114)](this.#userId);}}module['exports']=SessionManager;